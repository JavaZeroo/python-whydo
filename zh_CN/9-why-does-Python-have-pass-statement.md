# Python 为什么要有 pass 语句？

关于 Python 中的`pass`语句，它似乎很简单（只有 4 个字母），即使是没有任何编程经验的初学者也能很快地掌握它的用法。

[官方文档](https://docs.python.org/3/tutorial/controlflow.html#pass-statements) 的介绍十分简单，下面的三个例子可以让我们快速地了解到如何使用它：

![](https://img.pythoncat.top/68b02e3bgy1gh2f7sovw9j20y80g60u7.jpg)

简单而言，pass 是一种空操作（null operation），解释器执行到它的时候，除了检查语法是否合法，什么也不做就直接跳过。

它跟 return、break、continue 和 yield 之类的非空操作相比，最大的区别是它不会改变程序的执行顺序。它就像我们写的注释，除了占用一行代码行，不会对所处的作用域产生任何影响。

但是，如果你有其它语言的基础，你也许会好奇：**为什么 Python 有这么独特的 pass 语句，而别的语言却没有？** 

Python 这么设计，到底是出于什么原因呢？

是为了解决大部分编程语言都要面对的共性问题，还是因为它有自己的新发现，所以创造出来一个新的特性？

换句话说：**Python 为什么要有 pass 语句，它能解决什么问题（好处），如果没有它，会导致什么问题（坏处）？** 

接下来，本文将从两个维度展开分析。

## 1、对人：作为空间占位符

我把它看作是一种言简意赅的注释方式，等于是说“**这里先预留位置，回头再补上具体的代码实现**”。

比如在多层的 if-elif-else 结构中，我们可以先把判断条件写好，然后在对应的块中写上 pass，以后再慢慢完善。

比如上文中给出的例子，我们可以先写好类/函数名及其入参，然后跳过（pass）主体代码，以后再慢慢填充。

pass 写起来简单，而且由于是关键字，IDE 会给出显眼的颜色区分，所以就比我们写上注释内容来得方便些。

pass 作为空间占位符，主要可以方便我们构思局部的代码结构，有一定的辅助提醒作用。

但是，若作为一种注释方式，它就显得太单薄了，比不上写“# todo: xxxx”，后者也会被 IDE 用颜色突显，而且意思更明确。虽然写起来简单，但它也引入了一个看似多余的关键字 pass。

**所以，从空间占位符的角度来看，pass 不是编程语言中必须的设计要素。** 

有了它，我们可以表达出“此处有东西，但暂时跳过”的语义，但如果没有它，则可以用注释内容来替代。

## 2、对机器：为了语法完整性

对于前一条的用法，pass 出现在代码中的位置在理论上是不受限的。

但是，我们最常使用 pass 时，基本是在冒号的下一行，而且在该层缩进的代码块中，只有这一条语句。（参见前文的 3 个例子，为了方便，我们仅以以空函数为例）

我们可以设想下，如果不写它，会怎样？

答案是会报缩进错误：`IndentationError: expected an indented block`

```python
# 将函数体的 pass 去除，会报错
def func():

func()
```

因为 Python 使用缩进来划分代码块，而冒号标识着要出现新的缩进代码块，所以这个例子会报缺少缩进代码块。

如果我们用前文说的注释来替代，看看会怎样？

```python
# 将函数体的 pass 换成注释
def func():
    # todo:此处有东西，以后补上
func()
```

这样写，也会报错：`IndentationError: expected an indented block`

原因是注释并非有效的语法内容，它会被 Python 解释器忽略掉（ignore），不像 pass 语句那样是“有效的语法内容，但是跳过”。

也就是说，缩进代码块中必须包含有语法意义的内容，下面的例子都是有效的：

```python
def func():
    """这是一个字符串"""

def func2():
    123456
```

Python 在定义函数时，必须包含函数体，即同时包含声明加定义两种语义，不能像某些语言可以只使用声明的语义，即写成`void test();` 。

但是，由于 Python 不使用花括号，它无法像某些语言那样直接定义出空函数，即写成`void test(){}` 。

综合以上的分析，Python 在定义空函数时，必须要有合法的函数体，因此设计出表示空操作的 pass 语句。它是为了补充语法的完整性，连同冒号，等效于其它语言中一对空的花括号。

从语法完整性的维度上看，它是必须的设计要素，如果没有的话，也必须用类似的空语句或特殊符号来替代。

对人方面，pass 可以表示“暂时跳过”的含义，作为临时的占位符，最终会被实际的代码实现所替换；对机器方面，它则可以表示“直接跳过”，只为了补齐语法逻辑，并不会被其它代码所替换。

其它语言没有专门的一种语句或者符号来表示这种占位符（即语义有所欠缺），但是它们也不需要费心思专门设计一个关键字来补齐语法完整性（即语法完备）。

回到本文开头的问题：**Python 为什么要有 pass 语句，它能解决什么问题（好处），如果没有它，会导致什么问题（坏处）？**

**Python 使用 pass 语句，是为了支持纯粹空操作的代码块（空函数、空类、空的循环控制块等等），有了它，还能额外表达出一种占位符的语义。** 

前者是对于机器而言的，必须要有，等效于其它语言中空花括号的作用；后者是对于人而言的，非必须的，可以用注释来表达，但因为 Python 设计了这个语句，这种用法有时候还挺方便的。


